<div class="emailBox"> <div class="emailWrap"> <ul class="nav nav-tabs"> <h4>pMail</h4> <li ng-class="{active: activeTab == 'inbox'}"> <a ng-click="activeTab='inbox'">Inbox</a> </li> <li ng-class="{active: activeTab == 'sent'}"> <a ng-click="activeTab='sent'">Sent</a> </li> <li class="nav nav-pills pull-right"> <a> <div class="btn logOutButton" ng-click="showComposePopup()">Compose</div> </a> </li> </ul> <table ng-show="activeTab=='inbox'" class="table table-border table-condensed"> <tbody> <tr ng-repeat="email in emails.slice().reverse()" class="repeated-item"> <td ng-click="showPopup(email)"><span class="glyphicon glyphicon-envelope" ng-class="{unreadEmail: !email.read}"></span> <td ng-click="showPopup(email)">{{ email.from }} <td ng-click="showPopup(email)">{{ email.subject }} <td ng-click="showPopup(email)">{{ email.date }} <td><span ng-click="deleteEmail(email)" class="glyphicon glyphicon-remove" ng-class="{deleteEmail: email.confirm}" title="delete"></span>   </table> <table ng-show="activeTab=='sent'" class="table table-border table-condensed"> <tbody> <tr ng-repeat="email in sentEmails.slice().reverse()" class="repeated-item"> <td><span class="glyphicon glyphicon-envelope"></span> <td ng-click="showPopup(email)">{{ email.to }} <td ng-click="showPopup(email)">{{ email.subject }} <td ng-click="showPopup(email)">{{ email.date }} <td><span ng-click="deleteSentEmail(email)" class="glyphicon glyphicon-remove" ng-class="{deleteEmail: email.confirm}" title="delete"></span>   </table> <modal-dialog show="isPopupVisible" width="750px" max-height="420px"> <h3>{{ selectedEmail.subject }}</h3> <div class="modal-body"> <strong>From:</strong> {{selectedEmail.from}} <br> <strong>Date:</strong> {{selectedEmail.date}} <br> <br> <p> <span style="white-space:pre">{{ selectedEmail.body }}</span> </p> </div> <div class="modal-footer"> <a class="btn" ng-click="forward()">Forward</a> <a class="btn" ng-click="reply()">Reply</a> <a class="btn btn-primary" ng-click="closePopup()">Close</a> </div> </modal-dialog> <modal-dialog show="isComposePopupVisible" width="750px" max-height="420px"> <h3>Compose Pmail</h3> <div class="modal-body"> <form> <div> <angucomplete-alt id="ex1" placeholder="To" pause="300" selected-object="selectedPerson" local-data="people" search-fields="username" title-field="username" minlength="1" input-class="form-control form-control-small" match-class="highlight" auto-match="true" initialvalue="{{composeEmail.to}}"> </div> <div class="result"> <div class="" ng-show="false"> You selected <span class="bold-span">{{composeEmail.to = selectedPerson.originalObject.username}} </span> </div> </div> <br> <input class="form-control" type="text" placeholder="Subject" ng-model="composeEmail.subject"><br> <textarea class="form-control" rows="10" ng-model="composeEmail.body"></textarea> </form> </div> <div class="modal-footer"> <a class="btn" ng-click="closeComposePopup()">Close</a> <a class="btn btn-primary" ng-click="sendEmail()" ng-disabled="!selectedPerson.originalObject">Send</a> </div> </modal-dialog> </div> </div>